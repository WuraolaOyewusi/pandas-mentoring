# Adapted from https://github.com/numba/numba/blob/master/azure-pipelines.yml
jobs:
- job: 'Docs'
  pool:
    vmImage: ubuntu-16.04
  timeoutInMinutes: 90
  steps:
  - script: |
      echo '##vso[task.setvariable variable=ENV_FILE]environment.yml'
      echo '##vso[task.prependpath]$(HOME)/miniconda3/bin'
    displayName: 'Setting environment variables'

  - script: |
      sudo apt-get install -y libc6-dev-i386
      echo "$PATH"
      ci/setup_env.sh
      echo "$PATH"
    displayName: 'Setup environment and build pandas'

  - script: |
      source activate pandas-docs
      cd doc/
      make html
    displayName: 'Build documentation'
